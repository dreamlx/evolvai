# EvolvAI 文档组织结构规范

**版本**: 1.0
**更新日期**: 2025-10-26
**状态**: ✅ 规范确立

---

## 📁 **文档目录结构**

```
docs/
├── 📋 product/                      # 产品相关文档
│   ├── definition/                  # 产品定义
│   │   ├── product-definition-v1.md
│   │   └── discussion-summary-2025-10-26.md
│   ├── roadmap/                     # 路线图
│   │   ├── roadmap-overview.md
│   │   └── phase-timeline.md
│   ├── epics/                       # Epic文档
│   │   ├── epic-001-behavior-constraints/
│   │   │   ├── README.md
│   │   │   ├── feature-001-execution-plan.md
│   │   │   └── feature-002-safe-tools.md
│   │   └── epic-002-tool-intelligence/
│   └── specs/                       # 产品规格
│       ├── execution-plan-spec.md
│       ├── safe-search-spec.md
│       └── tpst-metrics-spec.md
│
├── 🏗️ development/                  # 开发相关文档
│   ├── sprints/                     # Sprint管理
│   │   ├── current/                 # 当前Sprint
│   │   │   ├── sprint-001-mvp-week1.md
│   │   │   └── daily-updates/
│   │   └── completed/               # 已完成Sprint
│   ├── tasks/                       # Task文档
│   │   ├── backlog/
│   │   └── in-progress/
│   ├── architecture/                # 架构文档
│   │   ├── technical-architecture.md
│   │   ├── behavior-engineering.md
│   │   └── adrs/                    # Architecture Decision Records
│   │       ├── 001-patch-first.md
│   │       ├── 002-git-worktree.md
│   │       └── 003-tpst-metrics.md
│   └── standards/                   # 开发规范
│       ├── coding-standards.md
│       ├── git-workflow.md
│       └── testing-standards.md
│
├── 🧪 testing/                      # 测试文档
│   ├── plans/
│   │   └── mvp-test-plan.md
│   ├── benchmarks/                  # 基线测试
│   │   ├── search-baseline.md
│   │   └── tpst-baseline.md
│   └── reports/
│       └── sprint-001-test-report.md
│
├── 📚 knowledge/                    # 知识库
│   ├── research/
│   │   └── ai-behavior-engineering.md
│   └── lessons-learned/
│       └── sprint-retrospectives/
│
├── 🚀 deployment/                   # 部署文档
│   ├── setup-guide.md
│   └── mcp-integration.md
│
├── 📖 api/                          # API文档
│   ├── mcp-tools.md
│   └── execution-plan-api.md
│
├── 📝 templates/                    # 文档模板
│   ├── epic-template.md
│   ├── feature-template.md
│   ├── story-template.md
│   ├── task-template.md
│   ├── adr-template.md
│   └── sprint-template.md
│
└── 🗃️ archive/                     # 归档文档
    └── 2025-10/
```

---

## 📝 **文档命名规范**

### **Epic文档**
```
格式: epic-{编号}-{名称}/
示例: epic-001-behavior-constraints/
      epic-002-tool-intelligence/
```

### **Feature文档**
```
格式: feature-{编号}-{名称}.md
示例: feature-001-execution-plan.md
      feature-002-safe-search.md
```

### **Story文档**
```
格式: story-{编号}-{简短描述}.md
示例: story-001-implement-execution-plan.md
      story-002-safe-search-wrapper.md
```

### **Task文档**
```
格式: task-{story编号}.{任务编号}-{描述}.md
示例: task-001.1-execution-plan-schema.md
      task-001.2-validation-logic.md
```

### **ADR文档**
```
格式: {编号}-{决策标题}.md
示例: 001-patch-first-architecture.md
      002-git-worktree-strategy.md
```

### **Sprint文档**
```
格式: sprint-{编号}-{描述}.md
示例: sprint-001-mvp-week1.md
      sprint-002-mvp-week2.md
```

---

## 📋 **文档模板使用指南**

### **Epic模板位置**
`docs/templates/epic-template.md`

### **使用方式**
```bash
# 创建新Epic
cp docs/templates/epic-template.md docs/product/epics/epic-003-new-feature/README.md
```

### **模板继承关系**
```
Epic (史诗)
 └── Feature (功能)
      └── Story (用户故事)
           └── Task (任务)
```

---

## 🔄 **文档生命周期管理**

### **创建阶段**
1. 使用模板创建文档
2. 填写基本信息
3. 在相应目录存放

### **开发阶段**
1. 更新状态（Planning/In Progress/Review/Done）
2. 记录进度和阻塞
3. 关联相关文档

### **完成阶段**
1. 标记为Done
2. 移动到completed/或archive/
3. 更新相关文档链接

### **归档规则**
- Sprint完成后：移动到archive/{年月}/
- 过时文档：标记[DEPRECATED]后归档
- 重要决策：永久保留在architecture/adrs/

---

## 🎯 **快速查找指南**

### **我想找...**

**产品定义**
→ `docs/product/definition/product-definition-v1.md`

**当前Sprint计划**
→ `docs/development/sprints/current/sprint-001-mvp-week1.md`

**技术架构决策**
→ `docs/development/architecture/adrs/`

**代码规范**
→ `docs/development/standards/`

**测试计划**
→ `docs/testing/plans/mvp-test-plan.md`

**API文档**
→ `docs/api/mcp-tools.md`

**文档模板**
→ `docs/templates/`

---

## 🚨 **重要规则**

### **禁止事项**
❌ 不要在项目根目录创建文档
❌ 不要随意创建新的顶级目录
❌ 不要使用中文目录名
❌ 不要混淆product/development分类

### **强制要求**
✅ 所有文档必须在docs/下
✅ 使用英文目录名和文件名
✅ 遵循命名规范
✅ 使用模板创建标准文档
✅ 及时更新文档状态
✅ 归档过时文档

---

## 📊 **文档状态标记**

### **状态标签**
```markdown
[DRAFT]      - 草稿阶段
[REVIEW]     - 审查中
[APPROVED]   - 已批准
[ACTIVE]     - 活跃使用
[DEPRECATED] - 已废弃
[ARCHIVED]   - 已归档
```

### **使用方式**
```markdown
# [DRAFT] Epic 001: Behavior Constraints
# [APPROVED] Product Definition v1.0
# [DEPRECATED] Old Architecture Design
```

---

## 🔧 **维护流程**

### **每日维护**
- 更新当前Sprint文档
- 更新Task状态
- 记录阻塞和进度

### **每周维护**
- 审查Sprint进度
- 更新Epic/Feature状态
- 归档完成的文档

### **每月维护**
- 清理archive/
- 审查文档质量
- 更新模板

---

## 💡 **最佳实践**

### **文档编写**
1. 使用清晰的标题层级
2. 添加目录导航
3. 链接相关文档
4. 保持简洁明了
5. 定期更新状态

### **目录组织**
1. 按功能分类而非时间
2. 保持层级不超过3层
3. 使用README.md作为目录入口
4. 定期清理冗余文档

### **版本控制**
1. 重要变更创建新版本
2. 使用Git标签标记里程碑
3. 保留历史版本在archive/

---

## 🤖 **AI助手遵守规则**

### **Claude Code必须遵守**
1. **创建文档时**：
   - 检查目标目录是否存在
   - 使用正确的命名规范
   - 从模板复制而非从零创建

2. **查找文档时**：
   - 先查看.structure.md了解组织
   - 使用快速查找指南定位
   - 检查文档状态标记

3. **更新文档时**：
   - 保持原有格式
   - 更新状态标记
   - 添加变更记录

4. **归档文档时**：
   - 标记[ARCHIVED]
   - 移动到archive/{年月}/
   - 更新引用链接

### **禁止行为**
- ❌ 在根目录创建临时文档
- ❌ 创建不符合规范的目录
- ❌ 删除文档而不归档
- ❌ 混乱的命名方式

---

## 🔮 **未来改进计划**

### **国际化支持** [TODO]
- **需求**: 未来国际化时候文档系统需要考虑多语言纯净版本
- **当前状态**: 文档内容使用中文，文件名/目录名使用英文（混合模式）
- **计划**:
  - Phase 1: 保持当前混合模式，适合中文团队使用
  - Phase 2: 创建纯英文版本模板（`templates/en/`）
  - Phase 3: 考虑文档内容的i18n机制（如使用markdown的多语言方案）
- **触发条件**: 项目需要国际化支持或有海外贡献者加入时

### **其他改进**
- 文档质量检查工具（lint-docs）
- 自动化文档索引生成
- 文档搜索功能优化

---

## 📚 **参考资源**

- [GitFlow工作流](../development/standards/git-workflow.md)
- [文档模板集](../templates/)
- [ADR编写指南](../development/architecture/adrs/README.md)

---

**最后更新**: 2025-10-26
**维护者**: EvolvAI Team
**反馈渠道**: GitHub Issues
